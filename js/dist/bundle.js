!function n(e,t,i){function r(a,s){if(!t[a]){if(!e[a]){var c="function"==typeof require&&require;if(!s&&c)return c(a,!0);if(o)return o(a,!0);var p=new Error("Cannot find module '"+a+"'");throw p.code="MODULE_NOT_FOUND",p}var l=t[a]={exports:{}};e[a][0].call(l.exports,function(n){var t=e[a][1][n];return r(t?t:n)},l,l.exports,n,e,t,i)}return t[a].exports}for(var o="function"==typeof require&&require,a=0;a<i.length;a++)r(i[a]);return r}({1:[function(n,e,t){var i=function(n){var e=$.extend({container:"#button-container",parent:{}},n||{});this.container=$(e.container),this.parent=e.parent,this.onClick()};i.SPINS=3,i.prototype.onClick=function(){var n=this;this.container.on("click",function(){n.container.attr("disabled",!0),n.container.text("Wait..."),n.parent.spin(i.SPINS).then(function(){n.container.attr("disabled",!1),n.container.text("Start")})})},e.exports=i},{}],2:[function(n,e,t){var i=function(n){var e=$.extend({container:"#display-container"},n||{});this.container=$(e.container)};i.prototype.show=function(n){this.container.find(".display__message").text(n)},e.exports=i},{}],3:[function(n,e,t){var i=n("./slot-machine.js");new i({container:".slot-machine"})},{"./slot-machine.js":5}],4:[function(n,e,t){var i=function(n){var e=$.extend({container:"#reel-container"},n||{});this.container=$(e.container)};i.DELAY=500,i.SPIN_END_EVT="reel.spin.end",i.prototype._spin=function(){var n=$.Deferred(),e=this;return this.container.animate({top:"-612px"},i.DELAY,"linear",function(){e.container.css({top:0}),n.resolve()}),n.promise()},i.prototype.spin=function(n){var e=$.Deferred(),t=this;return this._spin().then(function(){for(var r,o=n-1;o>0;o--)r=t._spin();r.then(function(){var n=204+204*Math.floor(3*Math.random()),r="-"+n+"px";t.container.animate({top:r},i.DELAY,"linear",function(){e.resolve()})})}),e.promise()},i.prototype.value=function(){var n=this.container.position(),e=n.top<0?n.top*-1:n.top,t=e/204,i=this.container.find(".reel__item").eq(t);return i.data("value")},e.exports=i},{}],5:[function(n,e,t){var i=n("./display.js"),r=n("./reel.js"),o=n("./button.js"),a=function(n){var e=$.extend({container:"#slot-machine"},n||{});this.container=$(e.container),this.display=new i({container:this.container.find(".display")}),this.leftReel=new r({container:this.container.find(".reel--left")}),this.middleReel=new r({container:this.container.find(".reel--middle")}),this.rightReel=new r({container:this.container.find(".reel--right")}),this.startButton=new o({container:this.container.find(".start-btn"),parent:this})};a.COFFEE=1,a.TEA=2,a.ESPRESSO=3,a.prototype.spin=function(n){var e=$.Deferred();this.display.show("Making beverage...");var t=this;return $.when(this.leftReel.spin(n),this.middleReel.spin(n),this.rightReel.spin(n)).then(function(){var n=t.leftReel.value(),i=t.middleReel.value(),r=t.rightReel.value();if(n==i&&i==r){var o="";switch(n){case a.COFFEE:o="Cup of coffee!";break;case a.TEA:o="Cup of tea!";break;case a.ESPRESSO:o="Cup of espresso!"}t.display.show(o)}else t.display.show("Try again!");e.resolve()}),e.promise()},e.exports=a},{"./button.js":1,"./display.js":2,"./reel.js":4}]},{},[3]);